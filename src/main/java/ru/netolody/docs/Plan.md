## План автоматизации по дипломному проекту по курсу "Тестировщик ПО"
### План автоматизации тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка.
### **1. Перечень автоматизируемых сценариев**
#### **Позитивные сценарии (Happy Path)**
**Основная задача:** 
Тестирование покупки тура двумя способами:
* Оплата по дебетовой карте
* Выдача кредита по данным банковской карты

**Ожидаемый результат:**
 При оплате тура картой со статусом APPROVED, 
 появляется сообщение: "Успешно! Операция одобрена банком" 
 В базах данных - Mysql и postgresSQL должны появиться данные об 
 операции в таблицах:
 * При оплате дебетовой картой - payment_entity и order_entity. 
 * При оплате в кредит - credit_request_entity и order_entity.
 
  *При оплате тура картой со статусом DECLINED,* 
  появляется сообщение: "Ошибка! Банк отказал в проведении операции". 
  В базе данных запись формируется только в таблице payment_entity. 
 
 **Варианты сценариев:**
 
 I. Успешная оплата тура дебетовой картой
   
   Перед всеми тестами на странице выбора способа оплаты тура 
   нажимаем кнопку "Купить" 
   
   1. Оплата тура картой со статусом APPROVED 
   
   - В поле номер карты ввести номер карты со статусом APPROVED
   - В поле месяц рандомно ввести номер месяца - 2 знака. 
   - В поле год рандомно ввести год - "20", "21", "22"
   - В поле "Владелец" с помощью библиотеки  faker ввести русские имя и 
     фамилию латиницей
   - В поле cvc/cvv ввести рандомно 3 числа
   - Нажать кнопку "Продолжить" 

  2. Оплата тура картой со статусом DECLINED 
     
   - В поле номер карты ввести номер карты со статусом DECLINED
   - В поле месяц рандомно ввести номер месяца - 2 знака. 
   - В поле год рандомно ввести год - "20", "21", "22"
   - В поле "Владелец" с помощью библиотеки  faker ввести русские 
     имя и фамилию латиницей
   - В поле cvc/cvv ввести рандомно 3 числа
   - Нажать кнопку "Продолжить"
   
      II. Успешная оплата тура с помощью кредита
   
   Перед всеми тестами на странице выбора способа оплаты 
   тура нажимаем кнопку "Купить в кредит"
   
   1. Оплата тура картой со статусом APPROVED 
      
      - В поле номер карты ввести номер карты со статусом APPROVED   
      - В поле месяц рандомно ввести номер месяца - 2 знака. 
      - В поле год рандомно ввести год - "20", "21" или "22"
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя 
        и фамилию латиницей
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажимать кнопку "Продолжить"   
      
   2. Оплата тура картой со статусом DECLINED 
      
      - В поле номер карты ввести номер карты со статусом DECLINED
      - В поле месяц рандомно ввести номер месяца - 2 знака. 
      - В поле год рандомно ввести год - "20", "21", "22"
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя 
        и фамилию латиницей
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажимать кнопку "Продолжить"
      
       #### **Негативные сценарии (Sad Path)**
       
      **Основная задача:**
       Проверяем ввод невалидных данных в поля персональных данных заявки 
       на покупку тура. 
       
       **Ожидаемый результат:**
      При вводе невалидных данных в поля с данными 
      карты возникают сообщения о неверном вводе, заявка не отправляется. 
      В базе данных записи не формируются. 
      
      **Перед началом тестирования на странице выбора способа оплаты:**
      
      - Для проверки оплаты тура по дебетовой карте нажимаем кнопку "Купить" 
       
      - Для проверки оплаты тура с помощью кредита, нажимаем кнопку "Купить в кредит"
      
      **Далее сценарии для обоих способов оплаты идентичны:**
      
      1. Проверяем ввод невалидных данных во все поля карты. 
      Ожидаемый результат:
      Внизу каждого поля возникает сообщение о неверном вводе данных. 
      Данные не отправляются.  
      
      - В поле номер карты ввести - "487"
      - В поле месяц - "0"
      - В поле год - "0"
      - В поле "Владелец" - " "
      - В поле cvc/cvv - "6"
      - Нажать кнопку "Продолжить" 
      
      2. Проверяем ввод истекшей даты. Остальные поля заполняем валидными данными. 
      Ожидаемый результат: внизу поля для месяца возникает сообщение "Неверно указан срок действия карты", 
      внизу поля года - сообщение "Истёк срок действия карты". 
      
      - В поле номер карты ввести номер карты со статусом APPROVED
      - В поле месяц рандомно ввести год - "20", "21", "22"
      - В поле год рандомно ввести номер месяца - 2 знака
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя и 
        фамилию латиницей
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажать кнопку "Продолжить" 
      
      3. Проверяем ввод года на несколько лет вперёд. 
      Ожидаемый результат: внизу поля ввода года - сообщение 
      "Неверно указан срок действия карты". 
      Данные не отправляются. Запись в базу данных не формируются. 
      
      - В поле номер карты ввести номер карты со статусом APPROVED
      - В поле месяц рандомно ввести номер месяца - 2 знака
      - В поле год рандомно ввести год - "48"
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя и 
        фамилию латиницей 
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажать кнопку "Продолжить"
      
      4. Проверить ввод в поле месяц прошедшего месяца. 
      Ожидаемый результат: возникает сообщение "Неверно указан срок действия карты".
      Данные не отправляются. 
      
      - В поле номер карты ввести номер карты со статусом APPROVED
      - В поле месяц рандомно ввести номер месяца минус 1 месяц от текущей даты
      - В поле год рандомно ввести год - "20", "21", "22"
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя и 
        фамилию кириллицей 
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажать кнопку "Продолжить"
      
      5. Проверяем ввод имени владельца карты кириллицей. 
      Остальные поля заполнить валидными данными. 
      Ожидаемый результат: внизу поля для ввода имени возникает сообщение "Поле обязательно для заполнения". 
      Данные на сервер не отправляются. 
      
      - В поле номер карты ввести номер карты со статусом APPROVED
      - В поле месяц рандомно ввести номер месяца - 2 знака
      - В поле год рандомно ввести год - "20", "21", "22"
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя и 
        фамилию кириллицей 
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажать кнопку "Продолжить"
      
      6. Проверка отправки карты с незаполненными полями. 
      Ожидаемый результат:
      Внизу полей "Номер карты", "Месяц", "Год", "CVC/CVV" возникает сообщение 
      "Неверный формат". 
      Внизу поля "Владелец" - сообщение "Поле обязательно для заполнения". 
      
      - Оставить все поля пустыми. 
      - Нажать кнопку "Продолжить"
      
      7. Проверка ввода текста в поле для номера карты. 
      Остальные данные валидные. 
      Ожидаемый результат: невозможно ввести в поле для номера карты 
      буквенные символы. 
      
      - Ввести в поле "Номер карты" текстовую строку. 
      - Ввести остальные данные невозможно, поскольку на этом этапе тест упадёт. 
      Невозможно ввести буквы. 
      
      8. Проверка ввода случайных символов в поле "Владелец". 
      Ожидаемый результат:
      Возникает сообщение "Неверно указан владелец карты". Данные не отправляются. 
      
      - В поле номер карты ввести номер карты со статусом APPROVED
      - В поле месяц рандомно ввести номер месяца - 2 знака
      - В поле год рандомно ввести год - "20", "21", "22"
      - В поле "Владелец" ввести "hGAE52RWQ" 
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажать кнопку "Продолжить"
      
      9. Проверка ввода буквенных символов в поля ввода "Номер карты", "Месяц", 
      "Год", "CVC/CVV". 
      Ожидаемый результат: невозможно ввести буквенные символы в поля для ввода цифр. 
      Данные не отправляются. 
      
      - В поле номер карты ввести рандомное имя, 
      сформированное с помощью библиотеки faker. 
      - В поле месяц рандомное имя, сформированное с помощью библиотеки faker. 
      - В поле год рандомно ввести рандомное имя, 
      сформированное с помощью библиотеки faker. 
      - В поле "Владелец" рандомное имя, сформированное с помощью библиотеки faker. 
      - В поле cvc/cvv ввести рандомное имя, 
      сформированное с помощью библиотеки faker. 
      - Нажать кнопку "Продолжить"
      
      10. Проверка ввода несуществующего номера карты
      Ожидаемый результат: После клика на кнопку "Продолжить" возникает сообщение
      "Ошибка! Банк отказал в проведении операции." 
      
      - В поле номер карты ввести номер карты "9999999999999999"
      - В поле месяц рандомно ввести номер месяца - 2 знака
      - В поле год рандомно ввести год - "20", "21", "22"
      - В поле "Владелец" с помощью библиотеки  faker ввести русские имя и 
        фамилию латиницей 
      - В поле cvc/cvv ввести рандомно 3 числа
      - Нажать кнопку "Продолжить"
      
      11. Проверка ввода цифр в поле "Владелец". 
          Ожидаемый результат:
          Возникает сообщение "Неверный формат". Данные не отправляются. 
          
          - В поле номер карты ввести номер карты со статусом DECLINED
          - В поле месяц рандомно ввести номер месяца - 2 знака
          - В поле год рандомно ввести год - "20", "21", "22"
          - В поле "Владелец" ввести рандомно 3 числа 
          - В поле cvc/cvv ввести рандомно 3 числа
          - Нажать кнопку "Продолжить"

 ### **2. Перечень используемых инструментов с обоснованием выбора**
1. JUnit 5 -  мощный и удобный фреймворк для  автотестов.
1. Selenide  - так как работаем с веб-страницей и ищем появившиеся значения с помощью html и css, создание Page Objects, заполнение формы через веб-интерфейс.  
1. Faker - генерация недостающих данных для тестирования. 
1. Docker - для развертывания и запуска приложения в контейнере. Можно одновременно запускать на одном компьютере 
несколько контейнеров, при этом будет потребляться меньше ресурсов, чем для виртуализации. Удобно настраивать контейнеры через Dockerfile, 
по которому другие члены команды могут запустить точно такой же контейнер. 
1. Git и GitHub - для хранения проекта. Позволяет откатиться назад, если вдруг после очередных изменений что-то пошло не так и не удается исправить;
код легко скачать и запустить, код доступен для совместного использования и разработки, имеется система CI.
1. CSS-селекторы — специальный язык выражений, позволяющий осуществлять поиск на странице веб-интерфейса.
1. Allure - используем для наглядного изображения прохождения тестов и ошибок.

### **3. Перечень и описание возможных рисков при автоматизации**

Выполнение задачи может затянуться из-за следующих моментов:

* Сложности в настройки Docker. 
Необходимо проверить поддержку 2х СУБД - MySQL и PostgreSQL. 
* Настроить работу симулятора банковских сервисов. 
* Неуникальные локаторы, которые затрудняют поиск элементов на страницах приложения. 

### **4. Интервальная оценка с учётом рисков (в часах)**

* Подготовка к проведению тестирования: 14 часов
* Написание автотестов: 20 часов
* Подготовка отчетов о проведении тестирования: 4 часа

### **5. План сдачи работы**

1. Планирование автоматизации тестирования до 21.08.2020г.
1. Написание и выполнение тестов до 25.08.2020г.
1. Подготовке отчётных документов по итогам автоматизированного тестирования до 28.08.2020г.
1. Подготовка отчётных документов по итогам автоматизации до 30.08.2020г.
